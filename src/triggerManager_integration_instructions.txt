import triggerManager from '../external/eeg-trigger-js/triggerManager.js';

// ...existing code...

// In startGame, after clearing the start element and before setTimeout:
// Initialize the trigger manager with mappings
triggerManager.initialize('127.0.0.1', 5001, './triggerMappings.json')
    .then(() => {
        console.log('Trigger manager initialized and mappings loaded');
        // Send game start trigger
        return triggerManager.sendTriggerByEvent('game.start', 'Game initialization');
    })
    .catch(error => {
        console.error('Failed to initialize trigger manager:', error);
    });

// In setTimeout, after creating the Phaser.Game instance:
// Store trigger manager in game registry for use throughout the game
game.registry.set("triggerManager", triggerManager);

// ...existing code...
